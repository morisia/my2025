
# yaml-language-server: $schema=https://firebase.google.com/static/apphosting/schema.json

runConfig:
  cpu: 1
  memoryMiB: 1024
  concurrency: 80
  maxInstances: 10
env:
  - variable: NODE_ENV
    value: production
  - variable: NEXT_PUBLIC_FIREBASE_API_KEY
    value: ${env.API_KEY}
  - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
    value: ${env.AUTH_DOMAIN}
  - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
    value: ${env.PROJECT_ID}
  - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
    value: ${env.STORAGE_BUCKET}
  - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
    value: ${env.MESSAGING_SENDER_ID}
  - variable: NEXT_PUBLIC_FIREBASE_APP_ID
    value: ${env.APP_ID}
  - variable: NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID
    value: ${env.MEASUREMENT_ID}
  - variable: GEMINI_API_KEY # This will be used by the genkit.ts for server-side AI
    secret: GEMINI_API_KEY_TIFLISISTYLES # Ensure this secret exists in Google Secret Manager
    availability:
      - BUILD
      - RUNTIME
headers:
  - path: /_next/static
    headers:
      - key: Cache-Control
        value: public, max-age=31536000, immutable
  - path: /static
    headers:
      - key: Cache-Control
        value: public, max-age=31536000, immutable
# buildConfig is often inferred for Next.js, but can be specified if needed:
# buildConfig:
#   buildCommand: npm run build
#   startCommand: npm run start
