# yaml-language-server: $schema=https://firebase.google.com/static/apphosting/schema.json

runConfig:
  cpu: 1
  memoryMiB: 1024
  concurrency: 80
  maxInstances: 10

apphosting:
  - backendId: "my2025"
    location: "europe-west4"
    rootDir: "workspace"
env:
    # Get these values from your Firebase Project Settings > Your apps > Web App (Config)
    - variable: NEXT_PUBLIC_FIREBASE_API_KEY
      value: AIzaSyDlBZ5B8x3qkmFfIjWTvJHKv2KkBM4AFXQ # <-- Replaced placeholder!
    - variable: NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN
      value: myonlineshop2025-5ffcf.firebaseapp.com
    - variable: NEXT_PUBLIC_FIREBASE_PROJECT_ID
      value: myonlineshop2025-5ffcf
    - variable: NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET
      value: myonlineshop2025-5ffcf.firebasestorage.app # <-- Using the value from your config
    - variable: NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID
      value: 239556272864
    - variable: NEXT_PUBLIC_FIREBASE_APP_ID
      value: 1:239556272864:web:c7b7dd9d662da45ee2a685
    # If you use Analytics:
    - variable: NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID
      value: G-7MJZZ1SV8M # <-- Replaced placeholder!
    # If you use Realtime Database (uncomment if needed):
    # - variable: NEXT_PUBLIC_FIREBASE_DATABASE_URL
    #     value: https://myonlineshop2025-5ffcf.firebaseio.com # Or your specific RTDB URL
    - variable: GEMINI_API_KEY
      value: AlzaSyDS8ZclbpBfiea9Qp6_zg3NdCyR3uCXSxM # Consider using Secret Manager for this!

headers:
  - path: /_next/static
    headers:
      - key: Cache-Control
        value: public, max-age=31536000, immutable
  - path: /static
    headers:
      - key: Cache-Control
        value: public, max-age=31536000, immutable
